{% extends "app/base.html" %}
{% block title %}
    Game {{ game.pk }}
{% endblock title %}
{% block content %}
    <div id="top">
        {% if outcome %}Game {{ game.pk }}'s outcome was {{ outcome }}{% endif %}
        {% if not outcome %}Computer will think for {{ game.computer_think_time_ms }} milliseconds{% endif %}
        {% if not outcome %}
            {% if whose_turn == "white" %}
                <form id="move"
                      method="post"
                      name="move"
                      action="{% url 'move' game_display_number=game.pk %}">
                    {% csrf_token %}
                </form>
            {% endif %}
        {% endif %}
        <div id="board-plus-eventlog">
            <div class="board">
                {% for s in squares %}{{ s }}{% endfor %}
            </div>
            <div id="event-log">
                <h3>
                    <a href="https://en.wikipedia.org/wiki/Algebraic_notation_(chess)">Moves</a>
                </h3>
                {% for line in event_log %}<div>{{ line }}</div>{% endfor %}
            </div>
        </div>
        <div id="status-whatnots">
            {% include "app/new-game-form.html" %}
            {% if not outcome %}
                <form method="post"
                      action="{% url 'set-think-time' game_display_number=game.pk %}">
                    {% csrf_token %}
                    <label>
                        Computer think time, in milliseconds
                        <input type="number" name="gnuchess-timelimit-ms" min="0" max="10000" />
                    </label>
                </form>
                <div>It's {{ whose_turn }}'s turn</div>
            {% endif %}
        </div>
    </div>
{% endblock content %}
