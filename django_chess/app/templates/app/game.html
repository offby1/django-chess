{% extends "app/base.html" %}
{% block title %}
    Game {{ game.pk }}
    {% if outcome %}'s outcome was {{ outcome }}{% endif %}
    {% if not outcome %}Computer will think for {{ game.computer_think_time_ms }} milliseconds{% endif %}
{% endblock title %}
{% block content %}
    <div id="top">
        {% if not outcome %}
            {% if whose_turn == "white" %}
                <form id="move"
                      method="post"
                      name="move"
                      action="{% url 'move' game_display_number=game.pk %}">
                    {% csrf_token %}
                </form>
            {% endif %}
        {% endif %}
        <div id="board-plus-eventlog">
            <div class="board">
                {% for s in squares %}{{ s }}{% endfor %}
            </div>
            <div id="event-log">
                <h3>
                    <a href="https://en.wikipedia.org/wiki/Algebraic_notation_(chess)">Moves</a>
                </h3>
                {% for line in event_log %}<div>{{ line }}</div>{% endfor %}
            </div>
        </div>
        <div id="status-whatnots">
            {% include "app/new-game-form.html" %}
            {% if not outcome %}
                {% if whose_turn == "white" %}
                    <div>It's {{ whose_turn }}'s turn</div>
                {% else %}
                    <form method="post"
                          action="{% url 'auto-move' game_display_number=game.pk %}">
                        {% csrf_token %}
                        <button class="btn btn-primary" type="submit" name="action" value="auto-move">Play a Move for {{ whose_turn }}</button>
                    </form>
                {% endif %}
            {% endif %}
        </div>
    </div>
{% endblock content %}
